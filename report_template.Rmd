---
title: "Proteomic Analysis Report"
subtitle: "Downloaded by user: `r params$username`"  # Display username under title
date: "`r Sys.Date()`"                         # Display current date
output: 
  pdf_document:
    includes:
      in_header: header.tex
params:
  volcano_path: ""
  heatmap_path: ""
  result_table: NULL
  username: ""  # Add a parameter to store the username
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r volcano_plot}
knitr::include_graphics(params$volcano_path)
```

```{r heatmap_plot}
knitr::include_graphics(params$heatmap_path)
```

```{r result_table, results='asis'}
cat("\\begin{landscape}\n")

kableExtra::kable(params$result_table, format = "latex", booktabs = TRUE, longtable = TRUE) %>%
  kableExtra::kable_styling(latex_options = c("repeat_header"), font_size = 7) %>%
  print()

cat("\\end{landscape}\n")
```